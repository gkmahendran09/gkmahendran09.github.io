{"version":3,"sources":["webpack:///src/components/Chart.vue","webpack:///./src/components/Chart.vue?1c59","webpack:///./src/components/Chart.vue","webpack:///src/App.vue","webpack:///./src/App.vue?40bf","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Chart","downloads","length","x","y","inc","path","lastX","index","components_Chart","render","_vm","this","_h","$createElement","_c","_self","_v","_s","stats","start","end","_e","staticClass","attrs","height","width","fill","stroke-width","stroke","on","mouseover","onMouseOver","mouseout","$event","isHover","d","points","x1","hoverOffsetX","x2","y1","y2","cx","cy","hoverOffsetY","r","hoverValue","day","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","XMLHttpRequest","responseText","send","selectortype_template_index_0_src_App","id","directives","name","rawName","value","expression","type","placeholder","domProps","keydown","_k","keyCode","key","getDownloadStats","input","target","composing","packageName","click","src_App","App_normalizeComponent","vue_esm","config","productionTip","el","components","template"],"mappings":"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","file":"static/js/app.4173dd56b111a7a330f8.js","sourcesContent":["<template>\n  <div>\n    <h3 v-if=\"stats\">\n      Start Date: {{stats.start}},\n      End Date: {{stats.end}}\n    </h3>\n    <div class=\"chartArea\">\n      <div class=\"box\">\n        <svg height=\"40\" width=\"200\" fill=\"rgba(137, 86, 255, .2)\" stroke-width=\"3\" stroke=\"#8956FF\" @mouseover=\"onMouseOver\" @mouseout=\"isHover=false\">\n          <path :d=\"path\" stroke=\"none\" fill=\"rgba(137, 86, 255, .2)\"></path>\n          <polyline :points=\"points\"\n                  stroke-width=\"3\" stroke=\"#8956FF\" fill=\"none\" />\n          <g v-if=\"isHover\">\n            <line :x1=\"hoverOffsetX\" :x2=\"hoverOffsetX\" y1=\"0\" y2=\"40\" stroke-width=\"2\"></line>\n            <circle :cx=\"hoverOffsetX\" :cy=\"hoverOffsetY\" r=\"2\"></circle>\n          </g>\n        </svg>\n        <div v-if=\"hoverValue\">\n          <h5>Downloads: {{hoverValue.downloads}}</h5>\n          <h5>Day: {{hoverValue.day}}</h5>\n        </div>\n      </div>\n      <div class=\"box\">\n        <h3>API response</h3>\n        <pre>\n{{stats}}\n        </pre>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Chart',\n  props: [\"stats\"],\n  data() {\n    return {\n      isHover: false,\n      hoverOffsetX: 0,\n      hoverOffsetY: 20,\n      hoverValue: null,\n    };\n  },\n\n  computed: {\n    pathArr() {\n      let downloads = this.stats.downloads;\n      let hits = [];\n      downloads.forEach(d => {\n        hits.push(d.downloads)\n      });\n      let len = hits.length;\n\n      let x = 0; // initial x-axis value\n      let y = null;\n\n      let width = 200; // x-axis max-width\n      let height = 40; // y-axis max-height\n\n      let inc = parseInt(width/len); // x-axis space\n\n      let path = {};\n      path.x = [];\n      path.y = [];\n      path.xy = [];\n\n      let max = Math.max(...hits); // the max in bound in the given array\n\n      for(let i=0; i<len; i++) {\n        y = parseInt(height - (( hits[i] / max ) * height));\n        path.x.push(x);\n        path.y.push(y);\n        path.xy.push(`${x},${y}`);\n        x = x + inc;\n      }\n\n      return path;\n\n    },\n    points() {\n      return this.pathArr.xy.join(' ');\n    },\n\n    path() {\n      let arr = this.points.split(' ');\n      let lastX = arr[arr.length - 1].split(',')[0];\n      return `M 0,40 ${this.points} ${lastX},40`\n    }\n  },\n\n  methods: {\n    onMouseOver(e) {\n      let index = this.pathArr.x.findIndex(ele => {return ele >= e.offsetX })\n      this.hoverOffsetX = this.pathArr.x.find(ele => {return ele >= e.offsetX });\n      this.hoverOffsetY = this.pathArr.y[index];\n      this.isHover=true;\n\n      this.hoverValue = this.stats.downloads[index];\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n.chartArea {\n  margin: 0 auto;\n  width: 1014px;\n}\n\n.box {\n  float: left;\n  width: 500px;\n  height: 300px;\n  border: 1px solid #000;\n  overflow: auto;\n  text-align: left;\n  box-sizing: border-box;\n  margin-right: 10px;\n  padding: 10px;\n}\n\n.box:last-child {\n  margin-right: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.stats)?_c('h3',[_vm._v(\"\\n      Start Date: \"+_vm._s(_vm.stats.start)+\",\\n      End Date: \"+_vm._s(_vm.stats.end)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"chartArea\"},[_c('div',{staticClass:\"box\"},[_c('svg',{attrs:{\"height\":\"40\",\"width\":\"200\",\"fill\":\"rgba(137, 86, 255, .2)\",\"stroke-width\":\"3\",\"stroke\":\"#8956FF\"},on:{\"mouseover\":_vm.onMouseOver,\"mouseout\":function($event){_vm.isHover=false}}},[_c('path',{attrs:{\"d\":_vm.path,\"stroke\":\"none\",\"fill\":\"rgba(137, 86, 255, .2)\"}}),_vm._v(\" \"),_c('polyline',{attrs:{\"points\":_vm.points,\"stroke-width\":\"3\",\"stroke\":\"#8956FF\",\"fill\":\"none\"}}),_vm._v(\" \"),(_vm.isHover)?_c('g',[_c('line',{attrs:{\"x1\":_vm.hoverOffsetX,\"x2\":_vm.hoverOffsetX,\"y1\":\"0\",\"y2\":\"40\",\"stroke-width\":\"2\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":_vm.hoverOffsetX,\"cy\":_vm.hoverOffsetY,\"r\":\"2\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.hoverValue)?_c('div',[_c('h5',[_vm._v(\"Downloads: \"+_vm._s(_vm.hoverValue.downloads))]),_vm._v(\" \"),_c('h5',[_vm._v(\"Day: \"+_vm._s(_vm.hoverValue.day))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('h3',[_vm._v(\"API response\")]),_vm._v(\" \"),_c('pre',[_vm._v(_vm._s(_vm.stats)+\"\\n        \")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a324e3e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a324e3e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Chart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a324e3e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8a324e3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Chart.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <h1>NPM package download stats</h1>\n    <h2>SVG + Vue.js</h2>\n    <div>\n      <input type=\"text\" placeholder=\"Enter package name\" v-model=\"packageName\" @keydown.enter=\"getDownloadStats\">\n      <button @click=\"getDownloadStats\">Get download stats</button>\n    </div>\n\n    <div v-if=\"isLoading\">\n      <i>Fetching download stats</i>\n    </div>\n    <div v-else-if=\"stats == 'error'\">\n      <h2>Package not found</h2>\n    </div>\n    <div v-else-if=\"stats\">\n      <Chart :stats=\"stats\"/>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Chart from './components/Chart';\n\nexport default {\n  name: 'App',\n  components: {\n    Chart,\n  },\n  data() {\n    return {\n      packageName: '',\n      stats: null,\n      isLoading: false\n    }\n  },\n  methods: {\n    getDownloadStats() {\n      this.isLoading = true;\n      let that = this;\n      let xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function() {\n          if (this.readyState == 4) {\n            that.isLoading = false;\n\n            if(this.status == 200) {\n              that.stats = JSON.parse(xhttp.responseText);\n            } else if(this.status == 404) {\n              that.stats = 'error';\n            }\n\n          }\n      };\n      xhttp.open('GET', `https://api.npmjs.org/downloads/range/2018-01-03:2018-02-03/${this.packageName}`, true);\n      xhttp.send();\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"NPM package download stats\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"SVG + Vue.js\")]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.packageName),expression:\"packageName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Enter package name\"},domProps:{\"value\":(_vm.packageName)},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getDownloadStats($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.packageName=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.getDownloadStats}},[_vm._v(\"Get download stats\")])]),_vm._v(\" \"),(_vm.isLoading)?_c('div',[_c('i',[_vm._v(\"Fetching download stats\")])]):(_vm.stats == 'error')?_c('div',[_c('h2',[_vm._v(\"Package not found\")])]):(_vm.stats)?_c('div',[_c('Chart',{attrs:{\"stats\":_vm.stats}})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01170cf8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01170cf8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01170cf8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}