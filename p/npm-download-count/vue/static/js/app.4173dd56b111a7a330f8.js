webpackJsonp([1],{"+Z8u":function(t,e){},"7ur4":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={name:"Chart",props:["stats"],data:function(){return{isHover:!1,hoverOffsetX:0,hoverOffsetY:20,hoverValue:null}},computed:{pathArr:function(){var t=[];this.stats.downloads.forEach(function(e){t.push(e.downloads)});for(var e=t.length,s=0,a=null,n=parseInt(200/e),o={x:[],y:[],xy:[]},r=Math.max.apply(Math,t),i=0;i<e;i++)a=parseInt(40-t[i]/r*40),o.x.push(s),o.y.push(a),o.xy.push(s+","+a),s+=n;return o},points:function(){return this.pathArr.xy.join(" ")},path:function(){var t=this.points.split(" "),e=t[t.length-1].split(",")[0];return"M 0,40 "+this.points+" "+e+",40"}},methods:{onMouseOver:function(t){var e=this.pathArr.x.findIndex(function(e){return e>=t.offsetX});this.hoverOffsetX=this.pathArr.x.find(function(e){return e>=t.offsetX}),this.hoverOffsetY=this.pathArr.y[e],this.isHover=!0,this.hoverValue=this.stats.downloads[e]}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.stats?s("h3",[t._v("\n      Start Date: "+t._s(t.stats.start)+",\n      End Date: "+t._s(t.stats.end)+"\n    ")]):t._e(),t._v(" "),s("div",{staticClass:"chartArea"},[s("div",{staticClass:"box"},[s("svg",{attrs:{height:"40",width:"200",fill:"rgba(137, 86, 255, .2)","stroke-width":"3",stroke:"#8956FF"},on:{mouseover:t.onMouseOver,mouseout:function(e){t.isHover=!1}}},[s("path",{attrs:{d:t.path,stroke:"none",fill:"rgba(137, 86, 255, .2)"}}),t._v(" "),s("polyline",{attrs:{points:t.points,"stroke-width":"3",stroke:"#8956FF",fill:"none"}}),t._v(" "),t.isHover?s("g",[s("line",{attrs:{x1:t.hoverOffsetX,x2:t.hoverOffsetX,y1:"0",y2:"40","stroke-width":"2"}}),t._v(" "),s("circle",{attrs:{cx:t.hoverOffsetX,cy:t.hoverOffsetY,r:"2"}})]):t._e()]),t._v(" "),t.hoverValue?s("div",[s("h5",[t._v("Downloads: "+t._s(t.hoverValue.downloads))]),t._v(" "),s("h5",[t._v("Day: "+t._s(t.hoverValue.day))])]):t._e()]),t._v(" "),s("div",{staticClass:"box"},[s("h3",[t._v("API response")]),t._v(" "),s("pre",[t._v(t._s(t.stats)+"\n        ")])])])])},staticRenderFns:[]};var r={name:"App",components:{Chart:s("VU/8")(n,o,!1,function(t){s("7ur4")},"data-v-8a324e3e",null).exports},data:function(){return{packageName:"",stats:null,isLoading:!1}},methods:{getDownloadStats:function(){this.isLoading=!0;var t=this,e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&(t.isLoading=!1,200==this.status?t.stats=JSON.parse(e.responseText):404==this.status&&(t.stats="error"))},e.open("GET","https://api.npmjs.org/downloads/range/2018-01-03:2018-02-03/"+this.packageName,!0),e.send()}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("h1",[t._v("NPM package download stats")]),t._v(" "),s("h2",[t._v("SVG + Vue.js")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.packageName,expression:"packageName"}],attrs:{type:"text",placeholder:"Enter package name"},domProps:{value:t.packageName},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getDownloadStats(e):null},input:function(e){e.target.composing||(t.packageName=e.target.value)}}}),t._v(" "),s("button",{on:{click:t.getDownloadStats}},[t._v("Get download stats")])]),t._v(" "),t.isLoading?s("div",[s("i",[t._v("Fetching download stats")])]):"error"==t.stats?s("div",[s("h2",[t._v("Package not found")])]):t.stats?s("div",[s("Chart",{attrs:{stats:t.stats}})],1):t._e()])},staticRenderFns:[]};var u=s("VU/8")(r,i,!1,function(t){s("+Z8u")},null,null).exports;a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:u},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.4173dd56b111a7a330f8.js.map